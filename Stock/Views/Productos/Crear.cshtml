@model Stock.Models.Producto

@{
    ViewData["Title"] = "Agregar Producto";
}

<div class="card p-4 mx-auto" style="max-width: 500px;">
    <h2 class="card-title text-center mb-4">
        + Agregar producto
    </h2>

    <form asp-action="CrearProducto" asp-controller="Admin" method="post">

        
        <div class="mb-3">
            <label for="IdProveedor" class="form-label">Asignar a Proveedor</label>
            
            <select class="form-select" id="IdProveedor" name="IdProveedor" required>
                <option value="">-- Seleccione un Proveedor --</option>
                @if (ViewData["Proveedores"] is List<Stock.Models.Proveedor> proveedores)
                {
                    @foreach (var p in proveedores)
                    {
                        <option value="@p.IdProveedor">@p.Nombre</option>
                    }
                }
            </select>
            <span asp-validation-for="IdProveedor" class="text-danger"></span>
        </div>

        
        <div class="mb-3">
            <label for="Nombre" class="form-label">Nombre</label>
            <input type="text" class="form-control" id="Nombre" name="Nombre" required />
            <span asp-validation-for="Nombre" class="text-danger"></span>
        </div>

        
        <div class="mb-3">
            <label for="Descripcion" class="form-label">Descripción (Opcional)</label>
            <textarea class="form-control" id="Descripcion" name="Descripcion" rows="3"></textarea>
            <span asp-validation-for="Descripcion" class="text-danger"></span>
        </div>

        
        <div class="mb-3">
            <label for="Precio" class="form-label">Precio</label>
            <input type="number" step="0.01" class="form-control" id="Precio" name="Precio" required />
            <span asp-validation-for="Precio" class="text-danger"></span>
        </div>

        
        <div class="mb-3">
            <label for="StockActual" class="form-label">Stock Inicial</label>
            <input type="number" class="form-control" id="StockActual" name="StockActual" required />
            <span asp-validation-for="StockActual" class="text-danger"></span>
        </div>

        <hr>
        <h5 class="mb-3">Configuración de Reposición (Para la alerta)</h5>

        
        <div class="mb-3">
            <label for="StockMinimo" class="form-label">Stock Mínimo</label>
            <input type="number" class="form-control" id="StockMinimo" name="StockMinimo" required />
            <small class="form-text text-muted">Se generará una alerta si el stock baja de este número.</small>
            <span asp-validation-for="StockMinimo" class="text-danger"></span>
        </div>

        
        <div class="mb-3">
            <label for="CantidadReposicion" class="form-label">Cantidad a Reponer</label>
            <input type="number" class="form-control" id="CantidadReposicion" name="CantidadReposicion" required />
            <small class="form-text text-muted">Cantidad que se solicitará al proveedor cuando haya alerta.</small>
            <span asp-validation-for="CantidadReposicion" class="text-danger"></span>
        </div>
        

        <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-4">
            <a asp-action="GestionProductos" class="btn btn-secondary">Cancelar y Volver</a>
            <button type="submit" class="btn btn-primary">Guardar</button>
        </div>
    </form>
</div>